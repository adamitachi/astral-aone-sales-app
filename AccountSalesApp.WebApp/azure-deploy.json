{
  "name": "astral-aone-backend",
  "type": "Microsoft.Web/sites",
  "apiVersion": "2021-02-01",
  "location": "[resourceGroup().location]",
  "tags": {
    "Environment": "Production",
    "Application": "Astral Aone Sales App"
  },
  "properties": {
    "name": "astral-aone-backend",
    "serverFarmId": "[resourceId('Microsoft.Web/serverfarms', 'astral-aone-backend-plan')]",
    "hostingEnvironmentProfile": null,
    "reserved": false,
    "isXenon": false,
    "hyperV": false,
    "siteConfig": {
      "numberOfWorkers": 1,
      "defaultDocuments": [
        "Default.aspx",
        "Default.htm",
        "Default.html",
        "index.htm",
        "index.html",
        "iisstart.htm"
      ],
      "netFrameworkVersion": "v8.0",
      "appSettings": [
        {
          "name": "ASPNETCORE_ENVIRONMENT",
          "value": "Production"
        },
        {
          "name": "ConnectionStrings__DefaultConnection",
          "value": "[concat('Server=tcp:', parameters('databaseServerName'), '.database.windows.net,1433;Initial Catalog=', parameters('databaseName'), ';Persist Security Info=False;User ID=', parameters('databaseAdminUsername'), ';Password=', parameters('databaseAdminPassword'), ';MultipleActiveResultSets=False;Encrypt=True;TrustServerCertificate=False;Connection Timeout=30;')]"
        },
        {
          "name": "WEBSITE_RUN_FROM_PACKAGE",
          "value": "1"
        }
      ],
      "connectionStrings": [],
      "machineKey": null,
      "http20Enabled": true,
      "ftpsState": "FtpsOnly",
      "minTlsVersion": "1.2",
      "scmMinTlsVersion": "1.2",
      "cors": {
        "allowedOrigins": [
          "https://astral-aone-frontend.azurestaticapps.net"
        ]
      }
    },
    "scmSiteAlsoStopped": false,
    "hostingEnvironmentProfile": null,
    "clientAffinityEnabled": true,
    "clientCertEnabled": false,
    "clientCertMode": "Required",
    "hostNamesDisabled": false,
    "customDomainVerificationId": null,
    "outboundIpAddresses": null,
    "possibleOutboundIpAddresses": null,
    "containerSize": 0,
    "dailyMemoryTimeQuota": 0,
    "suspendedTill": null,
    "targetSwapSlot": null,
    "hostingEnvironmentProfile": null,
    "microService": null,
    "gatewaySiteName": null,
    "publicNetworkAccess": "Enabled",
    "redundancyMode": "None",
    "storageAccountRequired": false,
    "keyVaultReferenceIdentity": null,
    "virtualNetworkSubnetId": null,
    "httpsOnly": true,
    "endToEndEncryption": false,
    "ftpsState": "FtpsOnly",
    "minTlsVersion": "1.2",
    "scmMinTlsVersion": "1.2"
  }
}
